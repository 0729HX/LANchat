# 内网聊天工具

基于 Python Flask 和 Socket.IO 开发的轻量级内网聊天工具，支持实时消息、图片压缩和文件传输功能。

## 功能特点

- 💬 实时消息传递
- 👥 在线用户统计
- 🖼️ 图片发送与预览
  - 自动压缩大图片
  - 点击放大查看
  - 加载动画提示
- 📎 文件传输功能
  - 支持拖放上传
  - 支持常见文档格式
- 🎯 其他特性
  - 简洁美观的界面
  - 支持回车快捷发送
  - IP地址显示

## 技术栈

- 后端
  - Python Flask
  - Flask-SocketIO
  - Werkzeug
- 前端
  - HTML5
  - CSS3
  - JavaScript
  - Socket.IO Client

## 安装步骤

1. 克隆项目：
```bash
git clone [项目地址]
cd 内网聊天
```

2. 安装Python依赖：
```bash
pip install -r requirements.txt
```

3. 运行应用：
```bash
python app.py
```

4. 访问应用：
- 本机访问：`http://localhost:5000`
- 局域网访问：`http://[服务器IP]:5000`

## 使用说明

### 发送消息
- 在输入框输入消息
- 点击发送按钮或按回车键发送

### 发送文件
- 方式一：点击回形针图标选择文件
- 方式二：直接拖放文件到聊天区域
- 支持的文件类型：
  - 图片（自动压缩）
  - PDF文档
  - Word文档
  - 文本文件

### 图片处理
- 大图自动压缩（最大尺寸800px）
- 保持原始比例
- 压缩质量0.6
- 支持点击查看原图

## 配置说明

### 服务器配置
- 端口：5000（可在 `app.py` 中修改）
- 最大文件大小：16MB（可在 `app.py` 中修改）

### 图片压缩配置
在 `static/js/chat.js` 中可修改：
```javascript
const IMAGE_MAX_SIZE = 800; // 最大图片尺寸
const IMAGE_QUALITY = 0.6;  // 压缩质量
```

## 注意事项

1. 确保防火墙允许5000端口通信
2. 图片和文件以Base64格式传输，大文件可能会占用较多带宽
3. 建议在内网环境使用
4. 目前不支持历史消息保存

## 开发计划

- [ ] 添加用户昵称功能
- [ ] 支持消息历史记录
- [ ] 添加文件传输进度显示
- [ ] 支持更多文件格式
- [ ] 添加表情包功能 